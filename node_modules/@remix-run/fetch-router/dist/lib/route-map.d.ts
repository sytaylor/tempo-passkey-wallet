import { RoutePattern } from '@remix-run/route-pattern';
import type { HrefBuilderArgs, Join, RouteMatch } from '@remix-run/route-pattern';
import type { RequestMethod } from './request-methods.ts';
import type { Simplify } from './type-utils.ts';
export interface RouteMap<pattern extends string = string> {
    [name: string]: Route<RequestMethod | 'ANY', pattern> | RouteMap<pattern>;
}
export declare class Route<method extends RequestMethod | 'ANY' = RequestMethod | 'ANY', pattern extends string = string> {
    readonly method: method | 'ANY';
    readonly pattern: RoutePattern<pattern>;
    constructor(method: method | 'ANY', pattern: pattern | RoutePattern<pattern>);
    href(...args: HrefBuilderArgs<pattern>): string;
    match(url: string | URL): RouteMatch<pattern> | null;
}
/**
 * Create a route map from a set of route definitions.
 */
export declare function createRoutes<const defs extends RouteDefs>(defs: defs): BuildRouteMap<'/', defs>;
export declare function createRoutes<base extends string, const defs extends RouteDefs>(base: base | RoutePattern<base>, defs: defs): BuildRouteMap<base, defs>;
export type BuildRouteMap<base extends string, defs extends RouteDefs> = Simplify<{
    -readonly [name in keyof defs]: (defs[name] extends Route<infer method extends RequestMethod | 'ANY', infer pattern extends string> ? Route<method, Join<base, pattern>> : defs[name] extends RouteDef ? BuildRoute<base, defs[name]> : defs[name] extends RouteDefs ? BuildRouteMap<base, defs[name]> : never);
}>;
type BuildRoute<base extends string, defs extends RouteDef> = defs extends string ? Route<'ANY', Join<base, defs>> : defs extends RoutePattern<infer pattern extends string> ? Route<'ANY', Join<base, pattern>> : defs extends {
    method: infer method extends RequestMethod | 'ANY';
    pattern: infer pattern;
} ? (pattern extends string ? Route<method, Join<base, pattern>> : pattern extends RoutePattern<infer source extends string> ? Route<method, Join<base, source>> : never) : never;
export interface RouteDefs {
    [name: string]: Route | RouteDef | RouteDefs;
}
export type RouteDef<source extends string = string> = source | RoutePattern<source> | {
    method?: RequestMethod;
    pattern: source | RoutePattern<source>;
};
export {};
//# sourceMappingURL=route-map.d.ts.map