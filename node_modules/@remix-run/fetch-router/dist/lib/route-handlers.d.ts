import type { Params, RoutePattern } from '@remix-run/route-pattern';
import type { Middleware } from './middleware.ts';
import type { RequestHandler } from './request-handler.ts';
import type { RequestMethod } from './request-methods.ts';
import type { Route, RouteMap } from './route-map.ts';
export type RouteHandlers<routes extends RouteMap> = RouteHandlersWithMiddleware<routes> | RouteHandlersWithoutMiddleware<routes>;
type RouteHandlersWithMiddleware<routes extends RouteMap> = {
    middleware?: Middleware[];
    handlers: RouteHandlersWithoutMiddleware<routes>;
} & (routes extends Record<string, any> ? {
    [name in keyof routes as routes extends any ? never : name]?: never;
} : {});
export declare function hasHandlers<routes extends RouteMap>(handlers: any): handlers is RouteHandlersWithMiddleware<routes>;
type RouteHandlersWithoutMiddleware<routes extends RouteMap> = routes extends any ? ({
    [name in keyof routes]: (routes[name] extends Route<infer method extends RequestMethod | 'ANY', infer pattern extends string> ? RouteHandler<method, pattern> : routes[name] extends RouteMap ? RouteHandlers<routes[name]> : never);
} & {
    middleware?: never;
    handlers?: never;
}) : never;
/**
 * An individual route handler.
 */
export type RouteHandler<method extends RequestMethod | 'ANY', pattern extends string> = RequestHandlerWithMiddleware<method, pattern> | RequestHandler<method, Params<pattern>>;
type RequestHandlerWithMiddleware<method extends RequestMethod | 'ANY', pattern extends string> = {
    middleware?: Middleware<method, Params<pattern>>[];
    handler: RequestHandler<method, Params<pattern>>;
};
export declare function hasHandler<method extends RequestMethod | 'ANY', pattern extends string>(handler: any): handler is RequestHandlerWithMiddleware<method, pattern>;
/**
 * Build a `RouteHandler` type from a string, route pattern, or route.
 */
export type BuildRouteHandler<method extends RequestMethod | 'ANY', route extends string | RoutePattern | Route> = route extends string ? RouteHandler<method, route> : route extends RoutePattern<infer pattern> ? RouteHandler<method, pattern> : route extends Route<infer _, infer pattern> ? RouteHandler<method, pattern> : never;
export {};
//# sourceMappingURL=route-handlers.d.ts.map